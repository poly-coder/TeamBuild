@using TeamBuild.Projects.Blazor.CultureFeature
@using MudBlazor

@inherits TeamBuild.Projects.Blazor.CultureFeature.CultureNewView
@attribute [CustomView(TeamBuildCoreMudBlazor.UiSelector)]

@if (Form is null)
{
    return;
}

<EditForm Model="@Form" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />

    <MudCard>
        <MudCardContent>
            <MudTextField Label="Culture Code"
                          HelperText="Valid ISO culture code"
                          @bind-Value="Form.CultureCode"
                          For="@(() => Form.CultureCode)"
                          Disabled="IsSaving" />

            <MudTextField Label="English Name"
                          HelperText="English name of the culture"
                          @bind-Value="Form.EnglishName"
                          For="@(() => Form.EnglishName)"
                          Disabled="IsSaving" />

            <MudTextField Label="Native Name"
                          HelperText="Native name of the culture"
                          @bind-Value="Form.NativeName"
                          For="@(() => Form.NativeName)"
                          Disabled="IsSaving" />
        </MudCardContent>
        <MudCardActions Class="gap-4">
            <MudSwitch Label="Go to details"
                       @bind-Value="Form.GoToDetails"
                       For="@(() => Form.GoToDetails)"
                       Disabled="IsSaving"/>

            <MudSpacer/>

            <TbCancelButton Href="@CultureRoutes.List()" Disabled="IsSaving"/>

            <TbResetButton Disabled="IsSaving"/>

            <TbMudSaveButton Loading="IsSaving" Disabled="IsSaving"/>
        </MudCardActions>
        <MudCardContent>
            <MudText Color="Color.Error">
                <ValidationSummary />
            </MudText>
        </MudCardContent>
    </MudCard>
</EditForm>

@if (Exception is not null)
{
    <TbExceptionAlert Exception="Exception" />
}
