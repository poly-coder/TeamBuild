@using MudBlazor
@using TeamBuild.Projects.Domain.CultureFeature

@if (CultureList is { Count: > 0 })
{
    <MudList T="CultureDetails"
             SelectionMode="SelectionMode.SingleSelection"
             SelectedValueChanged="HandleSelectedCulture">
        @foreach (var culture in CultureList)
        {
            <MudListItem Value="@culture">
                <CultureListItemView Culture="@culture"/>
            </MudListItem>
        }
    </MudList>
}
else
{
    <MudText Typo="Typo.caption">No cultures found.</MudText>
}

@code
{
    [Parameter]
    public IReadOnlyList<CultureDetails> CultureList { get; set; } = [];

    [Parameter]
    public EventCallback<CultureDetails> OnCultureSelected { get; set; }

    protected async Task HandleSelectedCulture(CultureDetails? culture)
    {
        if (culture is not null)
            await OnCultureSelected.InvokeAsync(culture);
    }
}
