@using TeamBuild.Projects.Application.CultureFeature

@attribute [Route(CultureRoutes.DetailsRoute)]

@inject ICultureQueryService QueryService

<TbMudPage Title="@CultureRoutes.DetailsTitle"
           Breadcrumbs="@CultureRoutes.DetailsBreadcrumbs">
    <TopBar>
        @if (load?.ShowReload == true)
        {
            <TbMudReloadButton OnClick="() => load?.Execute()" />
        }
        <TbMudCopyButton CopyJson="@JsonContent" Label="Copy Json" />
        <TbMudGoToEditButton Href="@CultureRoutes.Edit(CultureId)" />
        <TbMudGoToDeleteButton Href="@CultureRoutes.Delete(CultureId)" />
    </TopBar>

    <ChildContent>
        @if (load is not null)
        {
            <TbMudLoadingBar IsLoading="@load.IsRunning" />

            @if (load.TryGetException(out var loadException))
            {
                <TbMudExceptionAlert Exception="loadException" />
            }
        }

        @if (culture is not null)
        {
            <CultureDetailsView Culture="@culture" />
        }

    </ChildContent>
</TbMudPage>
